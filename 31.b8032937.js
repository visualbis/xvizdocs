(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{136:function(t,e,s){"use strict";s.r(e);var i=s(155),n=s.n(i),a=s(158),l=s.n(a);l.a.tokenizer.separator=/[\s\-/]+/;var r=class{constructor(t){this.searchData=t,this.init(),this.titleHitsRes=[]}init(){const{searchData:t}=this;this.lunrIndex=l()((function(){this.ref("id"),this.field("title",{boost:200}),this.field("content",{boost:2}),this.metadataWhitelist=["position"],t.forEach((t,e)=>{const s={id:e,title:t.title,content:t.content};this.add(s)})}))}getLunrResult(t){return this.lunrIndex.query((function(e){const s=l.a.tokenizer(t);e.term(s,{boost:10}),e.term(s,{wildcard:l.a.Query.wildcard.TRAILING})}))}getHit(t,e,s){return{hierarchy:{lvl0:t.pageTitle||t.title,lvl1:0===t.type?null:t.title},url:t.url,_snippetResult:s?{content:{value:s,matchLevel:"full"}}:null,_highlightResult:{hierarchy:{lvl0:{value:0===t.type?e||t.title:t.pageTitle},lvl1:0===t.type?null:{value:e||t.title}}}}}getTitleHit(t,e,s){const i=e[0],n=e[0]+s;let a=t.title.substring(0,i)+'<span class="algolia-docsearch-suggestion--highlight">'+t.title.substring(i,n)+"</span>"+t.title.substring(n,t.title.length);return this.getHit(t,a)}getContentHit(t,e){const s=e[0],i=e[0]+e[1];let n=s,a=i,l=!0,r=!0;for(let c=0;c<3;c++){const e=t.content.lastIndexOf(" ",n-2),s=t.content.lastIndexOf(".",n-2);if(s>0&&s>e){n=s+1,l=!1;break}if(e<0){n=0,l=!1;break}n=e+1}for(let c=0;c<10;c++){const e=t.content.indexOf(" ",a+1),s=t.content.indexOf(".",a+1);if(s>0&&s<e){a=s,r=!1;break}if(e<0){a=t.content.length,r=!1;break}a=e}let o=t.content.substring(n,s);return l&&(o="... "+o),o+='<span class="algolia-docsearch-suggestion--highlight">'+t.content.substring(s,i)+"</span>",o+=t.content.substring(i,a),r&&(o+=" ..."),this.getHit(t,null,o)}search(t){return new Promise((e,s)=>{const i=this.getLunrResult(t),n=[];i.length>5&&(i.length=5),this.titleHitsRes=[],this.contentHitsRes=[],i.forEach(e=>{const s=this.searchData[e.ref],{metadata:i}=e.matchData;for(let a in i)if(i[a].title){if(!this.titleHitsRes.includes(e.ref)){const l=i[a].title.position[0];n.push(this.getTitleHit(s,l,t.length)),this.titleHitsRes.push(e.ref)}}else if(i[a].content){const t=i[a].content.position[0];n.push(this.getContentHit(s,t))}}),n.length>5&&(n.length=5),e(n)})}},o=s(159),c=s.n(o);const h="algolia-docsearch-suggestion";var u={suggestion:`\n  <a class="${h}\n    {{#isCategoryHeader}}${h}__main{{/isCategoryHeader}}\n    {{#isSubCategoryHeader}}${h}__secondary{{/isSubCategoryHeader}}\n    "\n    aria-label="Link to the result"\n    href="{{{url}}}"\n    >\n    <div class="${h}--category-header">\n        <span class="${h}--category-header-lvl0">{{{category}}}</span>\n    </div>\n    <div class="${h}--wrapper">\n      <div class="${h}--subcategory-column">\n        <span class="${h}--subcategory-column-text">{{{subcategory}}}</span>\n      </div>\n      {{#isTextOrSubcategoryNonEmpty}}\n      <div class="${h}--content">\n        <div class="${h}--subcategory-inline">{{{subcategory}}}</div>\n        <div class="${h}--title">{{{title}}}</div>\n        {{#text}}<div class="${h}--text">{{{text}}}</div>{{/text}}\n      </div>\n      {{/isTextOrSubcategoryNonEmpty}}\n    </div>\n  </a>\n  `,suggestionSimple:`\n  <div class="${h}\n    {{#isCategoryHeader}}${h}__main{{/isCategoryHeader}}\n    {{#isSubCategoryHeader}}${h}__secondary{{/isSubCategoryHeader}}\n    suggestion-layout-simple\n  ">\n    <div class="${h}--category-header">\n        {{^isLvl0}}\n        <span class="${h}--category-header-lvl0 ${h}--category-header-item">{{{category}}}</span>\n          {{^isLvl1}}\n          {{^isLvl1EmptyOrDuplicate}}\n          <span class="${h}--category-header-lvl1 ${h}--category-header-item">\n              {{{subcategory}}}\n          </span>\n          {{/isLvl1EmptyOrDuplicate}}\n          {{/isLvl1}}\n        {{/isLvl0}}\n        <div class="${h}--title ${h}--category-header-item">\n            {{#isLvl2}}\n                {{{title}}}\n            {{/isLvl2}}\n            {{#isLvl1}}\n                {{{subcategory}}}\n            {{/isLvl1}}\n            {{#isLvl0}}\n                {{{category}}}\n            {{/isLvl0}}\n        </div>\n    </div>\n    <div class="${h}--wrapper">\n      {{#text}}\n      <div class="${h}--content">\n        <div class="${h}--text">{{{text}}}</div>\n      </div>\n      {{/text}}\n    </div>\n  </div>\n  `,footer:'\n    <div class="algolia-docsearch-footer">\n      ValQ\n    </div>\n  ',empty:`\n  <div class="${h}">\n    <div class="${h}--wrapper">\n        <div class="${h}--content ${h}--no-results">\n            <div class="${h}--title">\n                <div class="${h}--text">\n                    No results found for query <b>"{{query}}"</b>\n                </div>\n            </div>\n        </div>\n    </div>\n  </div>\n  `,searchBox:'\n  <form novalidate="novalidate" onsubmit="return false;" class="searchbox">\n    <div role="search" class="searchbox__wrapper">\n      <input id="docsearch" type="search" name="search" placeholder="Search the docs" autocomplete="off" required="required" class="searchbox__input"/>\n      <button type="submit" title="Submit your search query." class="searchbox__submit" >\n        <svg width=12 height=12 role="img" aria-label="Search">\n          <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#sbx-icon-search-13"></use>\n        </svg>\n      </button>\n      <button type="reset" title="Clear the search query." class="searchbox__reset hide">\n        <svg width=12 height=12 role="img" aria-label="Reset">\n          <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#sbx-icon-clear-3"></use>\n        </svg>\n      </button>\n    </div>\n</form>\n\n<div class="svg-icons" style="height: 0; width: 0; position: absolute; visibility: hidden">\n  <svg xmlns="http://www.w3.org/2000/svg">\n    <symbol id="sbx-icon-clear-3" viewBox="0 0 40 40"><path d="M16.228 20L1.886 5.657 0 3.772 3.772 0l1.885 1.886L20 16.228 34.343 1.886 36.228 0 40 3.772l-1.886 1.885L23.772 20l14.342 14.343L40 36.228 36.228 40l-1.885-1.886L20 23.772 5.657 38.114 3.772 40 0 36.228l1.886-1.885L16.228 20z" fill-rule="evenodd"></symbol>\n    <symbol id="sbx-icon-search-13" viewBox="0 0 40 40"><path d="M26.806 29.012a16.312 16.312 0 0 1-10.427 3.746C7.332 32.758 0 25.425 0 16.378 0 7.334 7.333 0 16.38 0c9.045 0 16.378 7.333 16.378 16.38 0 3.96-1.406 7.593-3.746 10.426L39.547 37.34c.607.608.61 1.59-.004 2.203a1.56 1.56 0 0 1-2.202.004L26.807 29.012zm-10.427.627c7.322 0 13.26-5.938 13.26-13.26 0-7.324-5.938-13.26-13.26-13.26-7.324 0-13.26 5.936-13.26 13.26 0 7.322 5.936 13.26 13.26 13.26z" fill-rule="evenodd"></symbol>\n  </svg>\n</div>\n  '},g=(s(12),s(143)),p=s.n(g).a;var d={mergeKeyWithParent(t,e){if(void 0===t[e])return t;if("object"!=typeof t[e])return t;const s=p.extend({},t,t[e]);return delete s[e],s},groupBy(t,e){const s={};return p.each(t,(t,i)=>{if(void 0===i[e])throw new Error(`[groupBy]: Object has no key ${e}`);let n=i[e];"string"==typeof n&&(n=n.toLowerCase()),Object.prototype.hasOwnProperty.call(s,n)||(s[n]=[]),s[n].push(i)}),s},values:t=>Object.keys(t).map(e=>t[e]),flatten(t){const e=[];return t.forEach(t=>{Array.isArray(t)?t.forEach(t=>{e.push(t)}):e.push(t)}),e},flattenAndFlagFirst(t,e){const s=this.values(t).map(t=>t.map((t,s)=>(t[e]=0===s,t)));return this.flatten(s)},compact(t){const e=[];return t.forEach(t=>{t&&e.push(t)}),e},getHighlightedValue:(t,e)=>t._highlightResult&&t._highlightResult.hierarchy_camel&&t._highlightResult.hierarchy_camel[e]&&t._highlightResult.hierarchy_camel[e].matchLevel&&"none"!==t._highlightResult.hierarchy_camel[e].matchLevel&&t._highlightResult.hierarchy_camel[e].value?t._highlightResult.hierarchy_camel[e].value:t._highlightResult&&t._highlightResult&&t._highlightResult[e]&&t._highlightResult[e].value?t._highlightResult[e].value:t[e],getSnippetedValue(t,e){if(!t._snippetResult||!t._snippetResult[e]||!t._snippetResult[e].value)return t[e];let s=t._snippetResult[e].value;return s[0]!==s[0].toUpperCase()&&(s=`\u2026${s}`),-1===[".","!","?"].indexOf(s[s.length-1])&&(s=`${s}\u2026`),s},deepClone:t=>JSON.parse(JSON.stringify(t))};class m{constructor({searchData:t,inputSelector:e,debug:s=!1,queryDataCallback:i=null,autocompleteOptions:n={debug:!1,hint:!1,autoselect:!0},transformData:a=!1,queryHook:l=!1,handleSelected:o=!1,enhancedSearchInput:h=!1,layout:g="collumns"}){m.checkArguments({searchData:t,inputSelector:e}),this.searchData=t,this.input=m.getInputFromSelector(e),this.queryDataCallback=i||null;const d=!(!n||!n.debug)&&n.debug;n.debug=s||d,this.autocompleteOptions=n,this.autocompleteOptions.cssClasses=this.autocompleteOptions.cssClasses||{},this.autocompleteOptions.cssClasses.prefix=this.autocompleteOptions.cssClasses.prefix||"ds";const v=this.input&&"function"==typeof this.input.attr&&this.input.attr("aria-label");this.autocompleteOptions.ariaLabel=this.autocompleteOptions.ariaLabel||v||"search input",this.isSimpleLayout="simple"===g,this.client=new r(this.searchData),h&&(this.input=m.injectSearchBox(this.input)),this.autocomplete=c()(this.input,n,[{source:this.getAutocompleteSource(a,l),templates:{suggestion:m.getSuggestionTemplate(this.isSimpleLayout),footer:u.footer,empty:m.getEmptyTemplate()}}]);const y=o;this.handleSelected=y||this.handleSelected,y&&p(".algolia-autocomplete").on("click",".ds-suggestions a",t=>{t.preventDefault()}),this.autocomplete.on("autocomplete:selected",this.handleSelected.bind(null,this.autocomplete.autocomplete)),this.autocomplete.on("autocomplete:shown",this.handleShown.bind(null,this.input)),h&&m.bindSearchBoxEvent()}static checkArguments(t){if(!t.searchData)throw new Error("Usage:\n  documentationSearch({\n  searchData,\n  inputSelector,\n  [ appId ],\n  [ autocompleteOptions.{hint,debug} ]\n})");if("string"!=typeof t.inputSelector)throw new Error(`Error: inputSelector:${t.inputSelector}  must be a string. Each selector must match only one element and separated by ','`);if(!m.getInputFromSelector(t.inputSelector))throw new Error(`Error: No input element in the page matches ${t.inputSelector}`)}static injectSearchBox(t){t.before(u.searchBox);const e=t.prev().prev().find("input");return t.remove(),e}static bindSearchBoxEvent(){p('.searchbox [type="reset"]').on("click",(function(){p("input#docsearch").focus(),p(this).addClass("hide"),c.a.autocomplete.setVal("")})),p("input#docsearch").on("keyup",()=>{const t=document.querySelector("input#docsearch"),e=document.querySelector('.searchbox [type="reset"]');e.className="searchbox__reset",0===t.value.length&&(e.className+=" hide")})}static getInputFromSelector(t){const e=p(t).filter("input");return e.length?p(e[0]):null}getAutocompleteSource(t,e){return(s,i)=>{e&&(s=e(s)||s),this.client.search(s).then(e=>{this.queryDataCallback&&"function"==typeof this.queryDataCallback&&this.queryDataCallback(e),t&&(e=t(e)||e),i(m.formatHits(e))})}}static formatHits(t){const e=d.deepClone(t).map(t=>(t._highlightResult&&(t._highlightResult=d.mergeKeyWithParent(t._highlightResult,"hierarchy")),d.mergeKeyWithParent(t,"hierarchy")));let s=d.groupBy(e,"lvl0");return p.each(s,(t,e)=>{const i=d.groupBy(e,"lvl1"),n=d.flattenAndFlagFirst(i,"isSubCategoryHeader");s[t]=n}),s=d.flattenAndFlagFirst(s,"isCategoryHeader"),s.map(t=>{const e=m.formatURL(t),s=d.getHighlightedValue(t,"lvl0"),i=d.getHighlightedValue(t,"lvl1")||s,n=d.compact([d.getHighlightedValue(t,"lvl2")||i,d.getHighlightedValue(t,"lvl3"),d.getHighlightedValue(t,"lvl4"),d.getHighlightedValue(t,"lvl5"),d.getHighlightedValue(t,"lvl6")]).join('<span class="aa-suggestion-title-separator" aria-hidden="true"> \u203a </span>'),a=d.getSnippetedValue(t,"content"),l=i&&""!==i||n&&""!==n,r=n&&""!==n&&n!==i,o=!r&&i&&""!==i&&i!==s;return{isLvl0:!o&&!r,isLvl1:o,isLvl2:r,isLvl1EmptyOrDuplicate:!i||""===i||i===s,isCategoryHeader:t.isCategoryHeader,isSubCategoryHeader:t.isSubCategoryHeader,isTextOrSubcategoryNonEmpty:l,category:s,subcategory:i,title:n,text:a,url:e}})}static formatURL(t){const{url:e,anchor:s}=t;if(e){return-1!==e.indexOf("#")?e:s?`${t.url}#${t.anchor}`:e}return s?`#${t.anchor}`:(console.warn("no anchor nor url for : ",JSON.stringify(t)),null)}static getEmptyTemplate(){return t=>n.a.compile(u.empty).render(t)}static getSuggestionTemplate(t){const e=t?u.suggestionSimple:u.suggestion,s=n.a.compile(e);return t=>s.render(t)}handleSelected(t,e,s,i,n={}){"click"!==n.selectionMethod&&(t.setVal(""),window.location.assign(s.url))}handleShown(t){const e=t.offset().left+t.width()/2;let s=p(document).width()/2;isNaN(s)&&(s=900);const i=e-s>=0?"algolia-autocomplete-right":"algolia-autocomplete-left",n=e-s<0?"algolia-autocomplete-right":"algolia-autocomplete-left",a=p(".algolia-autocomplete");a.hasClass(i)||a.addClass(i),a.hasClass(n)&&a.removeClass(n)}}e.default=m}}]);